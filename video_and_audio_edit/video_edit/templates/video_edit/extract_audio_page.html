{% extends 'video_edit/base_video_index.html' %}

{% block title %}Extract Audio{% endblock %}

{% block content %}
<div class="container">
    <h1>Upload Video and Extract Audio</h1>
    
    {% if audio_file_url %}
    <div class="audio-section">
        <h2>Extracted Audio:</h2>
        <div class="audio-container">
            <audio controls>
                <source src="{{ audio_file_url }}" type="audio/mpeg">
                Your browser does not support the audio element.
            </audio>
        </div>
        <a href="{{ audio_file_url }}" download>
            <button class="download-btn">Download Extracted Audio</button>
        </a>
        <div class="upload-another">
            <button onclick="location.href='{{ request.path }}';">Upload Another File</button>
        </div>
    </div>
    {% else %}
    <form method="POST" enctype="multipart/form-data" class="form-entry">
        {% csrf_token %}
        <label for="video_file">Select a video file:</label>
        <input type="file" name="video_file" id="video_file" accept="video/*" required>
        
        <button type="submit" class="submit-btn">Upload and Extract Audio</button>
    </form>
    {% endif %}
</div>
{% endblock content %}
