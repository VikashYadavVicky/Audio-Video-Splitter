{% extends 'video_edit/base_video_index.html' %}

{% block title %}Merge Videos{% endblock %}

{% block content %}
<div class="container">
    <h1>Upload and Merge Videos</h1>

    {% if merged_video_url %}
    <div class="video-section">
        <h2>Merged Video:</h2>
        <div class="video-container">
            <video controls>
                <source src="{{ merged_video_url }}" type="video/mp4">
                Your browser does not support the video element.
            </video>
        </div>
        <a href="{{ merged_video_url }}" download>
            <button class="download-btn">Download Merged Video</button>
        </a>
        <div class="upload-another">
            <button onclick="location.href='{{ request.path }}';">Upload More Files</button>
        </div>
    </div>
    {% else %}
    <form method="POST" enctype="multipart/form-data" class="form-entry">
        {% csrf_token %}
        <label for="video_files">Select video files to merge:</label>
        <input type="file" name="video_files" id="video_files" accept="video/*" multiple required>
        <button type="submit" class="submit-btn">Upload and Merge</button>
    </form>
    {% endif %}
</div>
{% endblock content %}
