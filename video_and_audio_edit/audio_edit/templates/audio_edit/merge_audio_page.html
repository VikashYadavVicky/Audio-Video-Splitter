{% extends 'audio_edit/base_audio_index.html' %}

{% block title %}Merge Audio{% endblock %}

{% block content %}
<div class="container">
    <h1>Upload and Merge Audio Files</h1>

    {% if merged_audio_url %}
    <div class="audio-section">
        <h2>Merged Audio:</h2>
        <div class="audio-container">
            <audio controls>
                <source src="{{ merged_audio_url }}" type="audio/mpeg">
                Your browser does not support the audio element.
            </audio>
        </div>
        <a href="{{ merged_audio_url }}" download>
            <button class="download-btn">Download Merged Audio</button>
        </a>
        <div class="upload-another">
            <button onclick="location.href='{{ request.path }}';">Upload More Files</button>
        </div>
    </div>
    {% else %}
    <form method="POST" enctype="multipart/form-data" class="form-entry">
        {% csrf_token %}
        <label for="audio_files">Select audio files to merge:</label>
        <input type="file" name="audio_files" id="audio_files" accept="audio/*" multiple required>
        <button type="submit" class="submit-btn">Upload and Merge</button>
    </form>
    {% endif %}
</div>
{% endblock content %}
